name: spoolbuddy

services:
  spoolbuddy:
    build: .
    # Host network required for SSDP printer discovery (UDP broadcast)
    network_mode: host
    volumes:
      - spoolbuddy-data:/app/data
      # Mount /dev for dynamic serial device access
      - /dev:/dev
    environment:
      SPOOLBUDDY_DATABASE_PATH: /app/data/spoolbuddy.db
    # Run as dialout group for serial device access
    group_add:
      - dialout
    # Required for serial device access
    privileged: true
    restart: unless-stopped

volumes:
  spoolbuddy-data:
